<div class="ert-index">
  <div class="content__item content__item--border bg__content--default">
    <div class="form-search">
      <form nz-form [formGroup]="form">
        <div class="app-row" nz-row [nzGutter]='[20,15]'>
          <div nz-col nzXs="24" nzLg="8">
            <hbt-select formControlName="dynamicReportId"
                        [dataSelects]="listReportType"
                        [type]="isSubmitted && form.controls['dynamicReportId'].errors ? 'error' : 'default'"
                        [showError]="isSubmitted && form.controls['dynamicReportId'].errors !== null"
                        [errors]="form.controls['dynamicReportId'].errors"
                        [errorDefs]="[{ errorName: 'required', errorDescription: 'common.validate.required' | translate: {'param': 'lms.export-report.label.reportType' | translate }}]"
                        labelText="{{'lms.export-report.label.reportType' | translate}} <span class='label__required'>*</span>"
                        placeholder="{{'lms.export-report.label.reportType' | translate}}"
            >
            </hbt-select>
          </div>
          <div nz-col nzXs="24" nzLg="8">
            <tree-data-picker
              [isExpand]="true"
              formControlName="organizationId"
              [scope]="scope"
              [functionCode]="functionCode"
              labelText="{{'lms.export-report.label.organization' | translate}}"
              placeholder="{{'lms.export-report.label.organization' | translate}}"
            >
            </tree-data-picker>
          </div>
          <div nz-col nzLg="8" nzXs="24">
            <hbt-input-text formControlName='keySearch'
                        [maxLength]='255'
                        labelText="{{'lms.export-report.label.keySearch' | translate}}"
                        placeholderText="{{'lms.export-report.label.keySearch' | translate}}"></hbt-input-text>
          </div>
          <div nz-col nzLg="8" nzXs="24">
            <hbt-date-picker
              formControlName="startDate"
              mode="year"
              [type]="isSubmitted && form.controls['startDate'].errors ? 'error' : 'default'"
              [showError]="isSubmitted && form.controls['startDate'].errors !== null"
              [errors]="form.controls['startDate'].errors"
              [errorDefs]="[{ errorName: 'required', errorDescription: 'common.validate.required' | translate: {'param': 'lms.export-report.label.startDate' | translate }}]"
              labelText="{{ 'lms.export-report.label.startDate' | translate }} <span class='label__required'>*</span>"
              placeholderText="{{ 'lms.export-report.label.startDate' | translate }}"
            ></hbt-date-picker>
          </div>
          <div nz-col nzXs="24" nzLg="8">
            <hbt-date-picker
              formControlName="endDate"
              mode="year"
              [type]="isSubmitted && (form.controls['endDate'].errors || form.errors?.rangeDateError) ? 'error' : 'default'"
              [showError]="isSubmitted && (form.controls['endDate'].errors || form.errors?.rangeDateError) !== null"
              [errors]="form.errors?.rangeDateError ? form.errors : form.controls['endDate'].errors"
              [errorDefs]="[{ errorName: 'required', errorDescription: 'common.validate.required' | translate: {'param': 'lms.export-report.label.endDate' | translate }},
              { errorName: 'rangeDateError', errorDescription: 'hrm.validate.rangeDate.pareDateMore' | translate:{'fromDate': 'lms.export-report.label.startDate' | translate, 'toDate': 'lms.export-report.label.endDate' | translate}}]"
              labelText="{{ 'lms.export-report.label.endDate' | translate }} <span class='label__required'>*</span>"
              placeholderText="{{ 'lms.export-report.label.endDate' | translate }}"
            ></hbt-date-picker>
          </div>
          <div nz-col nzXs="24" nzLg="24">
            <div style="text-align: center">
              <hbt-button
                class="staff__research__btn__search"
                buttonSize="MEDIUM"
                buttonAvailableStyle="SEARCH"
                buttonText="{{'common.button.export' | translate}}"
                (click)="export()"
              ></hbt-button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
